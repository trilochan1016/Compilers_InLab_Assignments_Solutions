( set B 10000 )
( set a 1 )
( set n 0 )
( loop while (<= a B)
   ( set b (+ a 1) )
   ( loop while (<= b B)
      ( set r (/ (+ (* a a) (* b b)) (- (* a b) 1)) )
      ( set t1 (* r (- (* a b) 1)) )
      ( set t2 (+ (* a a) (* b b)) )
      ( when (= t1 t2) ( set n (+ n 1) ) )
   )
)
(set p 1)
(loop while (> n 1)
   (set p (* p n))
   (set n (- n 1))
)
